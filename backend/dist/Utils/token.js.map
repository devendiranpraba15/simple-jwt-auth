{"version":3,"file":"token.js","names":["_jsonwebtoken","_interopRequireDefault","require","_fs","_path","pathToKey","path","join","__dirname","PRIV_KEY","fs","readFileSync","issueJWT","user","_id","uid","expiresIn","payload","sub","iat","Date","now","signedToken","jwt","sign","algorithm","token","expires"],"sources":["../../src/Utils/token.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nconst pathToKey = path.join(__dirname, '..', 'id_rsa_priv.pem');\r\nconst PRIV_KEY = fs.readFileSync(pathToKey, 'utf8');\r\n\r\nfunction issueJWT(user) {\r\n  const _id = user.uid;\r\n  const expiresIn = '1d';\r\n  const payload = {\r\n    sub: _id,\r\n    iat: Date.now(),\r\n  };\r\n  const signedToken = jwt.sign(payload, PRIV_KEY, { expiresIn: expiresIn, algorithm: 'RS256' });\r\n  return {\r\n    token: 'Bearer ' + signedToken,\r\n    expires: expiresIn,\r\n  };\r\n}\r\n\r\nexport { issueJWT };\r\n"],"mappings":"mLAAA,IAAAA,aAAA,CAAAC,sBAAA,CAAAC,OAAA,kBACA,IAAAC,GAAA,CAAAF,sBAAA,CAAAC,OAAA,QACA,IAAAE,KAAA,CAAAH,sBAAA,CAAAC,OAAA,UAEA,GAAM,CAAAG,SAAS,CAAGC,gBAAI,CAACC,IAAI,CAACC,SAAS,CAAE,IAAI,CAAE,iBAAiB,CAAC,CAC/D,GAAM,CAAAC,QAAQ,CAAGC,cAAE,CAACC,YAAY,CAACN,SAAS,CAAE,MAAM,CAAC,CAEnD,QAAS,CAAAO,QAAQA,CAACC,IAAI,CAAE,CACtB,GAAM,CAAAC,GAAG,CAAGD,IAAI,CAACE,GAAG,CACpB,GAAM,CAAAC,SAAS,CAAG,IAAI,CACtB,GAAM,CAAAC,OAAO,CAAG,CACdC,GAAG,CAAEJ,GAAG,CACRK,GAAG,CAAEC,IAAI,CAACC,GAAG,CAAC,CAChB,CAAC,CACD,GAAM,CAAAC,WAAW,CAAGC,wBAAG,CAACC,IAAI,CAACP,OAAO,CAAER,QAAQ,CAAE,CAAEO,SAAS,CAAEA,SAAS,CAAES,SAAS,CAAE,OAAQ,CAAC,CAAC,CAC7F,MAAO,CACLC,KAAK,CAAE,SAAS,CAAGJ,WAAW,CAC9BK,OAAO,CAAEX,SACX,CAAC,CACH","ignoreList":[]}