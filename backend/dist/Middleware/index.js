"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _express=_interopRequireDefault(require("express"));var _helmet=_interopRequireDefault(require("helmet"));var _morgan=_interopRequireDefault(require("morgan"));var _cors=_interopRequireDefault(require("cors"));var _passport=_interopRequireDefault(require("passport"));var _compression=_interopRequireDefault(require("compression"));var _passportConfig=_interopRequireDefault(require("./passportConfig"));var _Config=require("../Config");var appMiddleware=(0,_express["default"])();appMiddleware.use((0,_helmet["default"])());appMiddleware.use((0,_morgan["default"])('dev'));appMiddleware.use((0,_cors["default"])(_Config.CORS_CONFIG));appMiddleware.use(function(req,res,next){if(req.secure){res.setHeader('Strict-Transport-Security','max-age=31536000; includeSubDomains; preload');}next();});_passportConfig["default"];// Call passportConfig to set up the passport strategies
appMiddleware.use(_passport["default"].initialize());appMiddleware.use(_express["default"].urlencoded({extended:true,limit:'10mb'}));appMiddleware.use(_express["default"].json({limit:'5mb'}));appMiddleware.use((0,_compression["default"])());var _default=exports["default"]=appMiddleware;
//# sourceMappingURL=index.js.map